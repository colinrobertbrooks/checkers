(this.webpackJsonpcheckers=this.webpackJsonpcheckers||[]).push([[0],{17:function(i,t,n){},32:function(i,t,n){"use strict";n.r(t);n(15),n(16),n(17);var e=n(0),s=n.n(e),c=n(2),r=n.n(c),o=n(6);let l,d,a;!function(i){i[i.Black=0]="Black",i[i.Red=1]="Red"}(l||(l={})),function(i){i.A8="a8",i.B8="b8",i.C8="c8",i.D8="d8",i.E8="e8",i.F8="f8",i.G8="g8",i.H8="h8",i.A7="a7",i.B7="b7",i.C7="c7",i.D7="d7",i.E7="e7",i.F7="f7",i.G7="g7",i.H7="h7",i.A6="a6",i.B6="b6",i.C6="c6",i.D6="d6",i.E6="e6",i.F6="f6",i.G6="g6",i.H6="h6",i.A5="a5",i.B5="b5",i.C5="c5",i.D5="d5",i.E5="e5",i.F5="f5",i.G5="g5",i.H5="h5",i.A4="a4",i.B4="b4",i.C4="c4",i.D4="d4",i.E4="e4",i.F4="f4",i.G4="g4",i.H4="h4",i.A3="a3",i.B3="b3",i.C3="c3",i.D3="d3",i.E3="e3",i.F3="f3",i.G3="g3",i.H3="h3",i.A2="a2",i.B2="b2",i.C2="c2",i.D2="d2",i.E2="e2",i.F2="f2",i.G2="g2",i.H2="h2",i.A1="a1",i.B1="b1",i.C1="c1",i.D1="d1",i.E1="e1",i.F1="f1",i.G1="g1",i.H1="h1"}(d||(d={})),function(i){i[i.Dark=0]="Dark",i[i.Light=1]="Light"}(a||(a={}));const b=i=>"abcdefgh".split("").indexOf(i.split("")[0]),g=i=>Number(i.split("")[1]),p=(i,t)=>({from:{x:b(i),y:g(i)},to:{x:b(t),y:g(t)}}),u=(i,t)=>{const n=g(i);return t.fill===l.Black?1===n:8===n},h=i=>({fill:a.Dark,position:i}),j=i=>({fill:a.Light,position:i}),f=i=>({fill:l.Red,...i}),x=i=>({fill:l.Black,...i}),m=i=>[j(i[0]),h(i[1]),j(i[2]),h(i[3]),j(i[4]),h(i[5]),j(i[6]),h(i[7])],O=i=>[h(i[0]),j(i[1]),h(i[2]),j(i[3]),h(i[4]),j(i[5]),h(i[6]),j(i[7])],B=[m([d.A8,d.B8,d.C8,d.D8,d.E8,d.F8,d.G8,d.H8]),O([d.A7,d.B7,d.C7,d.D7,d.E7,d.F7,d.G7,d.H7]),m([d.A6,d.B6,d.C6,d.D6,d.E6,d.F6,d.G6,d.H6]),O([d.A5,d.B5,d.C5,d.D5,d.E5,d.F5,d.G5,d.H5]),m([d.A4,d.B4,d.C4,d.D4,d.E4,d.F4,d.G4,d.H4]),O([d.A3,d.B3,d.C3,d.D3,d.E3,d.F3,d.G3,d.H3]),m([d.A2,d.B2,d.C2,d.D2,d.E2,d.F2,d.G2,d.H2]),O([d.A1,d.B1,d.C1,d.D1,d.E1,d.F1,d.G1,d.H1])],K=[x({id:1,position:d.B8,isKing:!1}),x({id:2,position:d.D8,isKing:!1}),x({id:3,position:d.F8,isKing:!1}),x({id:4,position:d.H8,isKing:!1}),x({id:5,position:d.A7,isKing:!1}),x({id:6,position:d.C7,isKing:!1}),x({id:7,position:d.E7,isKing:!1}),x({id:8,position:d.G7,isKing:!1}),x({id:9,position:d.B6,isKing:!1}),x({id:10,position:d.D6,isKing:!1}),x({id:11,position:d.H6,isKing:!1}),x({id:12,position:d.F6,isKing:!1}),f({id:13,position:d.A3,isKing:!1}),f({id:14,position:d.C3,isKing:!1}),f({id:15,position:d.E3,isKing:!1}),f({id:16,position:d.G3,isKing:!1}),f({id:17,position:d.B2,isKing:!1}),f({id:18,position:d.D2,isKing:!1}),f({id:19,position:d.F2,isKing:!1}),f({id:20,position:d.H2,isKing:!1}),f({id:21,position:d.A1,isKing:!1}),f({id:22,position:d.C1,isKing:!1}),f({id:23,position:d.E1,isKing:!1}),f({id:24,position:d.G1,isKing:!1})];var k=n(1);var v,C,D=i=>{let{countBlack:t,countRed:n}=i;return Object(k.jsxs)("div",{className:"row mb-3 text-center",children:[Object(k.jsxs)("div",{className:"col-6",children:[Object(k.jsx)("strong",{children:"Black:"})," ",12-n]}),Object(k.jsxs)("div",{className:"col-6",children:[Object(k.jsx)("strong",{children:"Red:"})," ",12-t]})]})},E=n(4),H=n(5);const A=H.a.div(v||(v=Object(E.a)(["\n  margin: 0 auto;\n  max-height: 80vh;\n  max-width: 80vh;\n"]))),F=H.a.div(C||(C=Object(E.a)(["\n  align-items: stretch;\n  display: flex;\n  width: 100%;\n"])));var G=n(13);const y={width:0,height:0,top:0,right:0,bottom:0,left:0},R=i=>{const[t,n]=Object(e.useState)(y),s=Object(e.useCallback)((()=>{i.current&&n(i.current.getBoundingClientRect())}),[i]);return((i,t)=>{const n=Object(e.useRef)(null),s=Object(e.useCallback)((()=>{n.current=new G.a(t),i.current&&n.current.observe(i.current)}),[t,i]),c=Object(e.useCallback)((()=>{var i;return null===(i=n.current)||void 0===i?void 0:i.disconnect()}),[]);Object(e.useLayoutEffect)((()=>(s(),()=>c())),[s,c])})(i,s),t};var N;const w=H.a.div(N||(N=Object(E.a)(["\n  margin-top: 1px;\n  margin-right: 1px;\n  outline: 1px solid lightgray;\n  position: relative;\n  width: 12.5%;\n"])));var I=i=>{let{fill:t,children:n}=i;const s=Object(e.useRef)(null),{width:c}=R(s),r=t===a.Dark,o=r?"cornsilk":"light";return Object(k.jsx)(w,{ref:s,style:{minHeight:c,backgroundColor:o},children:r?n:null})},M=n.p+"static/media/black-king.24d5537d.png",L=n.p+"static/media/black.43b83621.png",P=n.p+"static/media/red-king.486dfc20.png",S=n.p+"static/media/red.43f6dfa7.png";const J=i=>{let{fill:t,isKing:n}=i;return t===l.Black?n?M:L:n?P:S};var q=i=>Object(k.jsx)("div",{className:"p-1",children:Object(k.jsx)("img",{className:"img-fluid",src:J(i),alt:"Piece"})});var z=i=>{let{reset:t}=i;return Object(k.jsx)("div",{className:"row mt-4 mb-2 text-center",children:Object(k.jsx)("div",{className:"col-12",children:Object(k.jsx)("button",{className:"btn btn-sm",onClick:t,children:"Reset"})})})};var Q=()=>{const[i,t]=Object(e.useState)(K),n=t=>i.filter((i=>i.fill===t&&null!==i.position)).length,s=t=>i.find((i=>i.position===t)),c=(i,n)=>t((t=>{const e=t.find((t=>t.id===i));return[...t.filter((t=>t.id!==i)),{...e,...n}]}));return Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("h1",{className:"mt-4 mb-2 text-center",children:"Checkers"}),Object(k.jsx)(D,{countBlack:n(l.Black),countRed:n(l.Red)}),Object(k.jsx)(o.a,{onDragEnd:i=>{if(!i.destination)return;const t=i.source.droppableId,n=i.destination.droppableId,e=s(t),r=((i,t,n)=>{const{from:e,to:s}=p(i,t);if(Math.abs(e.y-s.y)>2)return!1;if(Math.abs(e.x-s.x)!==Math.abs(e.y-s.y))return!1;if(n.isKing)return!0;const c=((i,t)=>i>t)(e.y,s.y);return n.fill===l.Black?c:!c})(t,n,e);if(!r)return;if(s(n))return;const o=((i,t)=>{const{from:n,to:e}=p(i,t);if(2!==Math.abs(n.y-e.y))return null;const s=(i=>"abcdefgh".split("")[i])((n.x+e.x)/2),c=(n.y+e.y)/2;return"".concat(s).concat(c)})(t,n),d=o&&s(o),a=d&&d.fill!==e.fill;return o&&!d||d&&!a?null:(c(e.id,{position:n,isKing:e.isKing||u(n,e)}),void(d&&a&&c(d.id,{position:null})))},children:Object(k.jsx)(A,{children:B.map(((i,t)=>Object(k.jsx)(F,{children:i.map((i=>{let{position:t,...n}=i;const e=s(t);return Object(k.jsx)(I,{fill:n.fill,children:Object(k.jsx)(o.c,{droppableId:t,isDropDisabled:!!e,children:i=>{let{innerRef:t,droppableProps:n,placeholder:s}=i;return Object(k.jsxs)("div",{ref:t,...n,children:[e&&Object(k.jsx)(o.b,{draggableId:String(e.id),index:0,children:i=>{let{innerRef:t,draggableProps:n,dragHandleProps:s}=i;return Object(k.jsx)("div",{ref:t,...n,...s,children:Object(k.jsx)(q,{fill:e.fill,isKing:e.isKing})})}},e.id),s]})}})},t)}))},t)))})}),Object(k.jsx)(z,{reset:()=>t(K)})]})};r.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(Q,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.c14c71e8.chunk.js.map